# Supabase Configuration
SUPABASE_URL="https://YOUR_PROJECT.supabase.co"
SUPABASE_ANON_KEY="YOUR_SUPABASE_ANON_KEY_HERE"
SUPABASE_SERVICE_ROLE_KEY="YOUR_SUPABASE_SERVICE_ROLE_KEY_HERE"
SUPABASE_JWT_SECRET="your-jwt-secret"

# Database (Supabase PostgreSQL)
DATABASE_URL="postgresql://postgres:password@db.your-project.supabase.co:5432/postgres"

# Redis (Upstash or self-hosted)
REDIS_URL="redis://localhost:6379"
UPSTASH_REDIS_URL=""
UPSTASH_REDIS_TOKEN=""
REDIS_API_TOKEN="YOUR_REDIS_API_TOKEN_HERE"

# Auth
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_EXPIRES_IN="7d"

# API Configuration
API_PORT=3001
API_URL="http://localhost:3001"
NODE_ENV="development"

# Next.js Dashboard (Cloudflare Pages)
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key"
NEXT_PUBLIC_API_URL="http://localhost:3001"

# Cloudflare
CLOUDFLARE_ACCOUNT_ID=""
CLOUDFLARE_API_TOKEN=""

# AI Services (for agent execution)
OPENAI_API_KEY="sk-proj-YOUR_OPENAI_API_KEY_HERE"
ANTHROPIC_API_KEY="sk-ant-api03-YOUR_ANTHROPIC_API_KEY_HERE"

# LLM Router Configuration (Sprint 67)
LLM_ROUTING_STRATEGY="latencyFirst"  # Options: latencyFirst | costFirst | forcedProvider

# Mailgun
MAILGUN_API_KEY="YOUR_MAILGUN_API_KEY_HERE"

# WHOIS XML API
WHOIS_XML_API_KEY="YOUR_WHOIS_XML_API_KEY_HERE"

# People Data Labs
PEOPLE_DATA_LABS_API_KEY="YOUR_PEOPLE_DATA_LABS_API_KEY_HERE"

# Sentry
SENTRY_DSN="YOUR_SENTRY_DSN_HERE"

#Posthog
POSTHOG_API_KEY="YOUR_POSTHOG_API_KEY_HERE"

# =====================================================
# Stripe Configuration (Sprint 72 + 76)
# Billing Integration + Checkout Flow
# See SETUP.md for complete Stripe setup instructions
# =====================================================

# Stripe API Keys (get from https://dashboard.stripe.com/apikeys)
STRIPE_SECRET_KEY="sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"           # Use sk_test_ for development, sk_live_ for production
STRIPE_PUBLISHABLE_KEY="pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"     # Use pk_test_ for development, pk_live_ for production

# Stripe Webhook Secret (get from Stripe Dashboard → Developers → Webhooks)
STRIPE_WEBHOOK_SECRET="whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Stripe Customer Portal URL (get from Stripe Dashboard → Settings → Billing → Customer Portal)
STRIPE_CUSTOMER_PORTAL_URL="https://billing.stripe.com/p/login/test_xxxxxxxxxxxxx"

# Billing Automation
BILLING_CYCLE_CRON="0 1 * * *"                           # Daily at 01:00 UTC

# =====================================================
# Sprint 75: Validated Pricing (Balanced Model)
# PVS-01 Pricing Validation - Sweet Spot Index: 81.6
# =====================================================

# Balanced Model Pricing - Monthly Stripe Price IDs
STRIPE_PRICE_STARTER_MONTHLY="price_xxxStarter_Monthly"     # Starter: $149/mo
STRIPE_PRICE_PRO_MONTHLY="price_xxxPro_Monthly"             # Pro: $599/mo (RECOMMENDED)
STRIPE_PRICE_PREMIUM_MONTHLY="price_xxxPremium_Monthly"     # Premium: $1,499/mo
STRIPE_PRICE_ENTERPRISE_MONTHLY="price_xxxEnterprise_Monthly" # Enterprise: $5,000+/mo (custom pricing)

# Balanced Model Pricing - Annual Stripe Price IDs (25% discount)
STRIPE_PRICE_STARTER_ANNUAL="price_xxxStarter_Annual"     # $1,341/year ($112/mo equivalent)
STRIPE_PRICE_PRO_ANNUAL="price_xxxPro_Annual"             # $5,391/year ($449/mo equivalent)
STRIPE_PRICE_PREMIUM_ANNUAL="price_xxxPremium_Annual"     # $13,491/year ($1,124/mo equivalent)
STRIPE_PRICE_ENTERPRISE_ANNUAL="price_xxxEnterprise_Annual" # $45,000/year ($3,750/mo equivalent)

# =====================================================
# Sprint 73: User Onboarding + Trial-to-Paid Conversion
# Trial Lifecycle Management & Marketing Automation
# =====================================================

# Trial Configuration
TRIAL_DURATION_DAYS="7"              # Trial period duration (7 days default)
TRIAL_GRACE_PERIOD_HOURS="24"        # Grace period after trial expiry (24 hours)
TRIAL_BUDGET_USD="2.00"              # Trial budget in USD ($2.00 default)

# Email Notifications (Mailgun)
ONBOARDING_EMAILS_ENABLED="true"     # Enable/disable trial lifecycle emails
MAILGUN_DOMAIN="your_mailgun_domain" # Your Mailgun verified domain

# Marketing Webhooks (Optional)
ZAPIER_WEBHOOK_URL=""                # Zapier/HubSpot webhook for lead tracking (optional)

# =====================================================
# Sprint 74: Production Launch Hardening
# Observability, Rate Limiting & Deployment
# =====================================================

# Error Tracking & Monitoring
SENTRY_DSN=""                        # Sentry error tracking DSN
DATADOG_API_KEY=""                   # Datadog monitoring API key (optional)

# Prometheus Metrics
PROMETHEUS_ENDPOINT="/metrics"       # Prometheus metrics endpoint

# Rate Limiting
RATE_LIMIT_WINDOW_MS="60000"         # Rate limit window (60 seconds)
RATE_LIMIT_MAX_REQUESTS="100"        # Max requests per window

# Deployment
DEPLOY_ENV="production"              # Deployment environment (development|staging|production)

# =====================================================
# Sprint 75 + 76: Mobile App Foundation
# React Native + Mobile-Ready APIs + Push Notifications
# =====================================================

# Mobile API Configuration
MOBILE_API_VERSION="1"               # Mobile API version for response headers (x-mobile-api-version)
MOBILE_ENABLE_ALERTS="true"          # Enable mobile push notifications and alerts

# Expo Configuration (for React Native app)
EXPO_PROJECT_ID=""                   # Expo project ID from expo.dev (required for EAS builds)
EXPO_PUBLIC_API_URL="https://api.pravado.com" # Production API URL for mobile app
EXPO_PUBLIC_SUPABASE_URL=""          # Supabase URL for mobile app authentication
EXPO_PUBLIC_SUPABASE_ANON_KEY=""     # Supabase anon key for mobile app

# Push Notifications (Sprint 76 - Track A)
EXPO_ACCESS_TOKEN=""                 # Expo access token for sending push notifications (get from expo.dev → Account Settings → Access Tokens)

# =====================================================
# Sprint 69: Dynamic LLM Strategy Manager
# Cost Guardrails & Task-Tier Routing
# =====================================================

# Policy Mode
LLM_POLICY_MODE="balanced"  # Options: trial | balanced | custom

# Trial Mode Budget Limits
LLM_TRIAL_MAX_DAILY_COST="2.00"      # $2.00 per day for trial orgs
LLM_TRIAL_MAX_REQUEST_COST="0.02"   # $0.02 per request max

# Paid/Balanced Mode Budget Limits
LLM_MAX_DAILY_COST="100.00"          # $100 per day for paid orgs
LLM_MAX_COST_PER_REQUEST="0.50"     # $0.50 per request max

# Token Limits
LLM_MAX_TOKENS_IN="8000"             # Maximum input tokens per request
LLM_MAX_TOKENS_OUT="4000"            # Maximum output tokens per request

# Allowed Providers (comma-separated)
LLM_ALLOWED_PROVIDERS="openai,anthropic"

# EWMA Telemetry Configuration
LLM_TELEMETRY_EWMA_ALPHA="0.3"      # EWMA smoothing factor (0-1, higher = more responsive)

# Email (Supabase Auth or external SMTP)
SMTP_HOST=""
SMTP_PORT=587
SMTP_USER=""
SMTP_PASSWORD=""
SMTP_FROM=""

# Monitoring & Logging
SENTRY_DSN=""
LOG_LEVEL="info"

# Feature Flags
ENABLE_AGENT_EXECUTION="true"
ENABLE_CONTENT_GENERATION="true"

# Sprint 67 Feature Flags
ENABLE_MEDIA_OPPORTUNITY_SCANNER="true"
ALLOW_LIVE_ENRICHMENT="false"  # Enable real API integrations for enrichment

# Enrichment API Keys (Sprint 67 Track C)
CLEARBIT_API_KEY=""
WHOIS_API_KEY=""

# Storage (Supabase Storage)
SUPABASE_STORAGE_BUCKET="pravado-media"

# =====================================================
# Sprint 70: LLM Insights & Explainability Layer
# Performance Caching, Decision Logging, Auto-Tuning
# =====================================================

# LLM Response Caching
ENABLE_LLM_CACHE="true"                   # Enable prompt-hash response caching
LLM_CACHE_TTL_HOURS="24"                  # Cache expiration (24 hours default)

# Decision Explainability
ENABLE_LLM_EXPLAINABILITY="true"          # Enable decision logging for transparency

# Policy Auto-Adaptation
ENABLE_POLICY_ADAPTATION="true"           # Enable nightly auto-tuning
POLICY_ADAPTATION_ERROR_THRESHOLD="0.5"   # Disable providers above 50% error rate
POLICY_ADAPTATION_RECOVERY_THRESHOLD="0.2" # Re-enable providers below 20% error rate
